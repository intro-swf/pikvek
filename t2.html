<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <title>Pikvek T2</title>
    <style>
      html, body {
        height: 100%;
        padding: 0;
        margin: 0;
      }
      .paneContainer {
        display: flex;
        flex-flow: column nowrap;
        align-items: stretch;
        height: 100%;
      }
      .pane {
        flex-grow: 1;
      }
      .selection {
        fill: #f00;
      }
    </style>
    <script>
      document.addEventListener('DOMContentLoaded', function(e) {
        const svgEl = document.createElementNS.bind(document, 'http://www.w3.org/2000/svg');
        const perspectivePane = document.getElementById('perspectivePane'),
              detailPane = document.getElementById('detailPane');
        perspectivePane.selection = document.querySelector('.perspectivePane .selection');
        perspectivePane.onclick = function(e) {
          const pt = this.createSVGPoint();
          pt.x = e.clientX;
          pt.y = e.clientY;
          pt = pt.matrixTransform(this.getScreenCTM().inverse());
          const rect = this.getBoundingClientRect();
          const circ = svgEl('circle');
          circ.setAttribute('x', pt.x);
          circ.setAttribute('y', pt.y);
          perspectivePane.selection.appendChild(circ);
        };
      });
    </script>
  </head>
  <body>
    <div class='paneContainer'>
      <svg class='pane' id='perspectivePane'>
        <g class='selection'>
        </g>
      </svg>
      <svg class='pane' id='detailPane'>
      </svg>
    </div>
  </body>
</html>
